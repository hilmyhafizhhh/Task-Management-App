{% extends 'tasks/base.html' %} {% block content %}
<div class="container mt-5">
  <!-- Memusatkan card -->
  <div class="card shadow-sm mx-auto" style="max-width: 600px">
    <div class="card-header bg-primary text-white">
      <h2 class="mb-0">Edit Profil</h2>
    </div>

    <div class="card-body">
      <form method="POST">
        {% csrf_token %}

        <div class="mb-3">
          <label for="username" class="form-label fw-bold">Username:</label>
          <div class="input-group">{{ form.username }}</div>
          {% if form.username.errors %}
          <div class="text-danger small">
            {{ form.username.errors|striptags }}
          </div>
          {% endif %}
        </div>

        <div class="mb-3">
          <label for="email" class="form-label fw-bold">Email:</label>
          <div class="input-group">{{ form.email }}</div>
          {% if form.email.errors %}
          <div class="text-danger small">{{ form.email.errors|striptags }}</div>
          {% endif %}
        </div>

        <div class="mb-3">
          <label for="first_name" class="form-label fw-bold">Nama Depan:</label>
          <div class="input-group">{{ form.first_name }}</div>
        </div>

        <div class="mb-3">
          <label for="last_name" class="form-label fw-bold"
            >Nama Belakang:</label
          >
          <div class="input-group">{{ form.last_name }}</div>
        </div>

        <div
          class="d-flex flex-column flex-md-row justify-content-between mt-4"
        >
          <a
            href="{% url 'home' %}"
            class="btn btn-outline-primary mb-2 mb-md-0 me-md-2"
          >
            <i class="bi bi-house-door-fill"></i> Kembali ke Beranda
          </a>

          <div class="d-flex flex-column flex-md-row">
            <button
              type="submit"
              class="btn btn-success mb-2 mb-md-0 me-md-2"
              id="saveButton"
              onclick="this.disabled = true; this.innerHTML = '<i class=\'bi bi-arrow-repeat spinner-border\'></i> Menyimpan...'; this.form.submit();"
            >
              <i class="bi bi-check-circle-fill"></i> Simpan Perubahan
            </button>

            <!-- Batal dengan konfirmasi -->
            <a
              href="{% url 'profile' %}"
              class="btn btn-outline-secondary mb-2 mb-md-0"
              onclick="return confirm('Apakah Anda yakin ingin membatalkan perubahan?');"
            >
              <i class="bi bi-x-circle-fill"></i> Batal
            </a>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
